<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å¿ã³ã„ã‚ã¯ã®æš—å·ãƒ„ãƒ¼ãƒ«ï¼ˆShinobi Iroha Cipher Toolï¼‰
  </title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f9fafb;
      margin: 0;
      padding: 2rem;
      color: #111827;
    }
    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-bottom: 1rem;
      padding: 0.75rem;
      font-size: 1rem;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      resize: vertical;
    }
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.5rem;
      background-color: #3b82f6;
      color: white;
      cursor: pointer;
      margin-right: 1rem;
    }
    .output {
      margin-top: 1rem;
      white-space: pre-wrap;
      background: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
    }
    select {
      margin-bottom: 1rem;
      padding: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>å¿ã³ã„ã‚ã¯ã®æš—å·ãƒ„ãƒ¼ãƒ«<br>ï¼ˆShinobi Iroha Cipher Toolï¼‰</h1>
    <label for="mode">ãƒ¢ãƒ¼ãƒ‰é¸æŠ:</label>
    <select id="mode">
      <option value="encrypt">æš—å·åŒ–</option>
      <option value="decrypt">å¾©å·</option>
    </select>

    <textarea id="inputText" placeholder="ã“ã“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›"></textarea>
    <div>
      <button onclick="processText()">å¤‰æ›</button>
    </div>
    <div class="output" id="outputText"></div>
  </div>
        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="app-footer">
            <div class="footer" style="text-align: center;">
                ğŸ”— GitHubãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã¡ã‚‰ï¼ˆ<a href="https://github.com/ipusiron/shinobi_iroha_cipher" target="_blank" style="color: #007bff; text-decoration: none;">ipusiron/shinobi_iroha_cipher</a>ï¼‰
            </div>
        </footer>
  <script>
    const IROHA_TO_PAIR = {
      "ã„": { hen: "æœ¨", tsukuri: "è‰²" }, "ã‚": { hen: "ç«", tsukuri: "è‰²" }, "ã¯": { hen: "åœŸ", tsukuri: "è‰²" },
      "ã«": { hen: "é‡‘", tsukuri: "è‰²" }, "ã»": { hen: "æ°´", tsukuri: "è‰²" }, "ã¸": { hen: "äºº", tsukuri: "è‰²" },
      "ã¨": { hen: "èº«", tsukuri: "è‰²" }, "ã¡": { hen: "æœ¨", tsukuri: "é’" }, "ã‚Š": { hen: "ç«", tsukuri: "é’" },
      "ã¬": { hen: "åœŸ", tsukuri: "é’" }, "ã‚‹": { hen: "é‡‘", tsukuri: "é’" }, "ã‚’": { hen: "æ°´", tsukuri: "é’" },
      "ã‚": { hen: "äºº", tsukuri: "é’" }, "ã‹": { hen: "èº«", tsukuri: "é’" }, "ã‚ˆ": { hen: "æœ¨", tsukuri: "é»„" },
      "ãŸ": { hen: "ç«", tsukuri: "é»„" }, "ã‚Œ": { hen: "åœŸ", tsukuri: "é»„" }, "ã": { hen: "é‡‘", tsukuri: "é»„" },
      "ã¤": { hen: "æ°´", tsukuri: "é»„" }, "ã­": { hen: "äºº", tsukuri: "é»„" }, "ãª": { hen: "èº«", tsukuri: "é»„" },
      "ã‚‰": { hen: "æœ¨", tsukuri: "èµ¤" }, "ã‚€": { hen: "ç«", tsukuri: "èµ¤" }, "ã†": { hen: "åœŸ", tsukuri: "èµ¤" },
      "ã‚": { hen: "é‡‘", tsukuri: "èµ¤" }, "ã®": { hen: "æ°´", tsukuri: "èµ¤" }, "ãŠ": { hen: "äºº", tsukuri: "èµ¤" },
      "ã": { hen: "èº«", tsukuri: "èµ¤" }, "ã‚„": { hen: "æœ¨", tsukuri: "ç™½" }, "ã¾": { hen: "ç«", tsukuri: "ç™½" },
      "ã‘": { hen: "åœŸ", tsukuri: "ç™½" }, "ãµ": { hen: "é‡‘", tsukuri: "ç™½" }, "ã“": { hen: "æ°´", tsukuri: "ç™½" },
      "ãˆ": { hen: "äºº", tsukuri: "ç™½" }, "ã¦": { hen: "èº«", tsukuri: "ç™½" }, "ã‚": { hen: "æœ¨", tsukuri: "é»’" },
      "ã•": { hen: "ç«", tsukuri: "é»’" }, "ã": { hen: "åœŸ", tsukuri: "é»’" }, "ã‚†": { hen: "é‡‘", tsukuri: "é»’" },
      "ã‚": { hen: "æ°´", tsukuri: "é»’" }, "ã¿": { hen: "äºº", tsukuri: "é»’" }, "ã—": { hen: "èº«", tsukuri: "é»’" },
      "ã‚‘": { hen: "æœ¨", tsukuri: "ç´«" }, "ã²": { hen: "ç«", tsukuri: "ç´«" }, "ã‚‚": { hen: "åœŸ", tsukuri: "ç´«" },
      "ã›": { hen: "é‡‘", tsukuri: "ç´«" }, "ã™": { hen: "æ°´", tsukuri: "ç´«" }, "ã‚“": { hen: "äºº", tsukuri: "ç´«" }
    };

    const PAIR_TO_IROHA = {};
    for (const [kana, pair] of Object.entries(IROHA_TO_PAIR)) {
      const key = pair.hen + pair.tsukuri;
      PAIR_TO_IROHA[key] = kana;
    }

    function processText() {
      const input = document.getElementById('inputText').value.trim();
      const mode = document.getElementById('mode').value;
      const outputDiv = document.getElementById('outputText');

      if (mode === 'encrypt') {
        const result = [...input].map(ch => {
          const pair = IROHA_TO_PAIR[ch];
          return pair ? pair.hen + pair.tsukuri : ch;
        }).join(' ');
        outputDiv.textContent = result;
      } else {
        const tokens = input.replace(/\s+/g, ' ').split(' ');
        const result = tokens.map(tok => PAIR_TO_IROHA[tok] || '?').join('');
        outputDiv.textContent = result;
      }
    }
  </script>
</body>
</html>
